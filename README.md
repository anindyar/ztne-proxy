# ZTNE Proxy Setup

> Effortlessly bridge your self-hosted services to the public internet â€” no static IP needed. This script sets up a full **Cloudflare Tunnel + Nginx Proxy Manager** stack so you can securely expose your homelab in **less than 10 minutes**.
> Built with ğŸ’™ by **Vibe Coding**, using the guidance from **human intelligence** and the genius of **Artificial Intelligence (ChatGPT)**.

---

## ğŸš€ What This Does
This script sets up a fully functional secure proxy environment with:

- ğŸ”’ **Cloudflare Tunnel** â€” Automates the full setup, including auth, tunnel creation, and DNS routing.
- ğŸŒ **Nginx Proxy Manager (NPM)** â€” Manage SSL, reverse proxies, and access rules with a beautiful UI.
- ğŸ³ **Docker Compose** â€” Runs everything in isolated, restartable containers.

> ğŸ•’ **Total setup time: Less than 10 minutes!**

---

## ğŸ§‘â€ğŸ’» How to Use

### 1. **Clone the Repo**
```bash
git clone https://github.com/anindyar/ztne-proxy-setup.git
cd ztne-proxy-setup
```

### 2. **Make the Script Executable**
```bash
chmod +x ztne-proxy.sh
```

### 3. **Run the Setup**
```bash
./ztne-proxy.sh
```

### 4. **Follow the Prompts**
- Log in to Cloudflare (opens in browser)
- Choose a tunnel name (or reuse an existing one)
- Enter your public domain (e.g. `proxy.yourdomain.com`)
- Choose which ports to expose (80, 443, or both)

---

## âœ… What You'll Get
After running the script, youâ€™ll have:

- ğŸ“‚ A `ztne-proxy/` directory with:
  - Auto-generated `docker-compose.yml`
  - Cloudflared tunnel credentials and config
  - Persistent storage for NPM
- ğŸš€ Running services:
  - **Nginx Proxy Manager** on `http://yourdomain:81`
  - **Cloudflared Tunnel** routing traffic from the internet
- ğŸŒ A DNS record for your domain added automatically in Cloudflare

---

## ğŸ› ï¸ Requirements
- Docker & Docker Compose
- A domain managed in Cloudflare
- (Optional) `cloudflared` CLI â€” the script installs it if missing

---

## ğŸ“¦ Directory Structure
```
ztne-proxy-setup/
â”œâ”€â”€ ztne-proxy.sh          # Main installer script
â”œâ”€â”€ README.md              # This file
```

When the script runs:
```
ztne-proxy/                # Generated by script
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ cloudflared/
â”‚   â”œâ”€â”€ config.yml
â”‚   â”œâ”€â”€ <tunnel-id>.json
â”‚   â””â”€â”€ cert.pem
â””â”€â”€ npm/
    â”œâ”€â”€ data/
    â””â”€â”€ letsencrypt/
```

---

## ğŸ§  Credits
Built with ğŸ’™ by **Vibe Coding** using the guidance from **human intelligence** and the genius of **Artificial Intelligence (ChatGPT)**.

Open source. Feel free to fork, improve, and vibe with it.

---

## ğŸ“ License
MIT License
