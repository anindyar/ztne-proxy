# ZTNE Proxy Setup

> Effortlessly bridge your self-hosted services to the public internet — no static IP needed. This script sets up a full **Cloudflare Tunnel + Nginx Proxy Manager** stack so you can securely expose your homelab in **less than 10 minutes**.
> Built with 💙 by **Vibe Coding**, using the guidance from **human intelligence** and the genius of **Artificial Intelligence (ChatGPT)**.

---

## 🚀 What This Does
This script sets up a fully functional secure proxy environment with:

- 🔒 **Cloudflare Tunnel** — Automates the full setup, including auth, tunnel creation, and DNS routing.
- 🌐 **Nginx Proxy Manager (NPM)** — Manage SSL, reverse proxies, and access rules with a beautiful UI.
- 🐳 **Docker Compose** — Runs everything in isolated, restartable containers.

> 🕒 **Total setup time: Less than 10 minutes!**

---

## 🧑‍💻 How to Use

### 1. **Clone the Repo**
```bash
git clone https://github.com/anindyar/ztne-proxy-setup.git
cd ztne-proxy-setup
```

### 2. **Make the Script Executable**
```bash
chmod +x ztne-proxy.sh
```

### 3. **Run the Setup**
```bash
./ztne-proxy.sh
```

### 4. **Follow the Prompts**
- Log in to Cloudflare (opens in browser)
- Choose a tunnel name (or reuse an existing one)
- Enter your public domain (e.g. `proxy.yourdomain.com`)
- Choose which ports to expose (80, 443, or both)

---

## ✅ What You'll Get
After running the script, you’ll have:

- 📂 A `ztne-proxy/` directory with:
  - Auto-generated `docker-compose.yml`
  - Cloudflared tunnel credentials and config
  - Persistent storage for NPM
- 🚀 Running services:
  - **Nginx Proxy Manager** on `http://yourdomain:81`
  - **Cloudflared Tunnel** routing traffic from the internet
- 🌍 A DNS record for your domain added automatically in Cloudflare

---

## 🛠️ Requirements
- Docker & Docker Compose
- A domain managed in Cloudflare
- (Optional) `cloudflared` CLI — the script installs it if missing

---

## 📦 Directory Structure
```
ztne-proxy-setup/
├── ztne-proxy.sh          # Main installer script
├── README.md              # This file
```

When the script runs:
```
ztne-proxy/                # Generated by script
├── docker-compose.yml
├── cloudflared/
│   ├── config.yml
│   ├── <tunnel-id>.json
│   └── cert.pem
└── npm/
    ├── data/
    └── letsencrypt/
```

---

## 🧠 Credits
Built with 💙 by **Vibe Coding** using the guidance from **human intelligence** and the genius of **Artificial Intelligence (ChatGPT)**.

Open source. Feel free to fork, improve, and vibe with it.

---

## 📝 License
MIT License
